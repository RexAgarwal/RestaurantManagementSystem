{% extends "Management/layout.html" %}

{% block body %}


    <section class="text-gray-600 body-font">
      <button type="button" class="btn btn-danger" id="Cancel">Cancelled</button>
      <button type="button" class="btn btn-secondary" id="Going">On Going</button>
      <button type="button" class="btn btn-success" id="Complete">Completed</button>
        <div class="container px-5 py-24 mx-auto">
          <div class="flex flex-col text-center w-full mb-20">
            <h1 class="sm:text-4xl text-3xl font-medium title-font mb-2 text-gray-900"> ORDERS </h1>
          </div>
          <div class="lg:w-2/3 w-full mx-auto overflow-auto">


            <table class="table-auto w-full text-left whitespace-no-wrap" id = "OnGoing" style="display:none; ">
              <thead>
                <tr>
                  <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Order id</th>
                  <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Name</th>
                  <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Id</th>
                  <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Delivery Status</th>
                  <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Total Price</th>
                  <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tr rounded-br"> Check Order</th>
                </tr>
              </thead>
              <tbody>

                {% for order in orders %}
                {% if order.delivers.status == "On Going" %}
                <tr>
                  
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.first_name}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3 text-lg text-gray-900">{{order.delivers.status}}</td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"> {{order.transc.amount_paid}} </td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"><a href = "{% url 'check_order' order.id %} " >  
                    <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">

                    <path d="M5 12h14"></path>
                    <path d="M12 5l7 7-7 7"></path>
                  </svg>   </a>       
                
                  </td>
                
                <td class="border-t-2 border-gray-200 w-10 text-center"><a href = "{% url 'DeliveryDone' order.id %}?data=Done " > Done  </a> </td>
                <td class="border-t-2 border-gray-200 w-10 text-center"><a href = "{% url 'DeliveryDone' order.id %}?data=Cancel " > Cancel  </a> </td>
                
                </tr>
                {% endif %}
                {% endfor %}
                </tbody>
                </table>










              <table class="table-auto w-full text-left whitespace-no-wrap" id = "Cancelled" style="display:none;">
                <thead>
                    <tr>
                      <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Order id</th>
                      <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Name</th>
                      <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Id</th>
                      <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Delivery Status</th>
                      <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Total Price</th>
                      <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tr rounded-br"> Check Order</th>
                    </tr>
                  </thead>
                  <tbody>
               
  

                {% for order in orders %}
                {% if order.delivers.status == "Cancelled" %}
                <tr>
                  
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.first_name}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3 text-lg text-gray-900">{{order.delivers.status}}</td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"> {{order.transc.amount_paid}} </td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"><a href = "{% url 'check_order' order.id %} " >  
                    <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">

                    <path d="M5 12h14"></path>
                    <path d="M12 5l7 7-7 7"></path>
                  </svg>   </a>       
                
                </td>
                

                
                </tr>
                {% endif %}
                {% endfor %}
                  </tbody>
                  </table>












                  <table class="table-auto w-full text-left whitespace-no-wrap" id="Completed" style="display:none;">
                    <thead>
                        <tr>
                          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Order id</th>
                          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Name</th>
                          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Customer Id</th>
                          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Delivery Status</th>
                          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Total Price</th>
                          <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tr rounded-br"> Check Order</th>
                        </tr>
                      </thead>
                      <tbody>

               
  

                {% for order in orders %}
                {% if order.delivers.status == "Completed" %}
                <tr>
                  
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.first_name}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3">{{order.places.customer.id}}</td>
                  <td class="border-t-2 border-gray-200 px-4 py-3 text-lg text-gray-900">{{order.delivers.status}}</td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"> {{order.transc.amount_paid|floatformat:"-2"}} </td>
                  <td class="border-t-2 border-gray-200 w-10 text-center"><a href = "{% url 'check_order' order.id %} " >  
                    <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">

                    <path d="M5 12h14"></path>
                    <path d="M12 5l7 7-7 7"></path>
                  </svg>   </a>       
                
                </td>
                
            
                
                </tr>
                {% endif %}

                {% endfor %}
                      </tbody>
                      </table>
















             
          </div>
          <div class="flex pl-4 mt-4 lg:w-2/3 w-full mx-auto">
            <!-- <a class="text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0">Learn More -->
              <!-- <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-2" viewBox="0 0 24 24">
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a> -->
            
          </div>
        </div>
      </section>






{% endblock %}


{% block style%} 
<script>
  document.addEventListener('DOMContentLoaded', function () {

    // Use buttons to toggle between views
    document.querySelector('#Cancel').addEventListener('click', () => tbody('Cancelled'));
    document.querySelector('#Going').addEventListener('click', () => tbody('OnGoing'));
    document.querySelector('#Complete').addEventListener('click', () => tbody('Completed'));
    console.log("its here");
    tbody('OnGoing');
  });

  function tbody(data){
    document.getElementById("Cancelled").style.display = "none";
    document.getElementById('OnGoing').style.display = "none";
    document.getElementById('Completed').style.display = "none";
    document.getElementById(data).style.display = "block";
    console.log("job done")

    return;
    
  }



</script>
{% endblock %}